---
title: 3072. Allocate elements into two arrays II.md
date: "2024.01.01 0:00"
tags:
  - - Python
  - - answer
  - Tree array
  - Thread tree
  - Array
  - simulation
abbrlink: 48a38683
docId: r12u8o7j73oxhbvgphi939fb
---

# topicï¼š

[3072. Allocate elements into two arrays II.md](https://leetcode.cn/problems/distribute-elements-into-two-arrays-ii/description/?envType=daily-question&envId=2024-06-05)
"""

<p>Give you a bidding <strong>1</strong> startã€Length <code>n</code> çš„æ•´æ•°Array <code>nums</code> ã€‚</p>

<p>Now define function <code>greaterCount</code> ï¼ŒMake <code>greaterCount(arr, val)</code> è¿”å›Array <code>arr</code> middle<strong> Strict</strong> <code>val</code> Number of elementsã€‚</p>

<p>You need to use <code>n</code> Secondary operationï¼ŒWill <code>nums</code> çš„æ‰€æœ‰å…ƒç´ åˆ†é…åˆ°ä¸¤ä¸ªArray <code>arr1</code> and <code>arr2</code> middleã€‚In the first placeä¸€Secondary operationmiddleï¼ŒWill <code>nums[1]</code> Add <code>arr1</code> ã€‚In the first placeäºŒSecondary operationmiddleï¼ŒWill <code>nums[2]</code> Add <code>arr2</code> ã€‚afterï¼ŒIn the first place <code>i</code> Secondary operationmiddleï¼š</p>

<ul> 
 <li>if <code>greaterCount(arr1, nums[i]) &gt; greaterCount(arr2, nums[i])</code> ï¼ŒWill <code>nums[i]</code> Add <code>arr1</code> ã€‚</li> 
 <li>if <code>greaterCount(arr1, nums[i]) &lt; greaterCount(arr2, nums[i])</code> ï¼ŒWill <code>nums[i]</code> Add <code>arr2</code> ã€‚</li> 
 <li>if <code>greaterCount(arr1, nums[i]) == greaterCount(arr2, nums[i])</code> ï¼ŒWill <code>nums[i]</code> Addå…ƒç´ æ•°é‡è¾ƒå°‘çš„Arraymiddleã€‚</li> 
 <li>ifä»ç„¶ç›¸ç­‰ï¼ŒSoWill <code>nums[i]</code> Add <code>arr1</code> ã€‚</li> 
</ul>

<p>è¿æ¥Array <code>arr1</code> and <code>arr2</code> å½¢æˆArray <code>result</code> ã€‚For exampleï¼Œif <code>arr1 == [1,2,3]</code> and <code>arr2 == [4,5,6]</code> ï¼ŒSo <code>result = [1,2,3,4,5,6]</code> ã€‚</p>

<p>è¿”å›æ•´æ•°Array <code>result</code> ã€‚</p>

<p>&nbsp;</p>

<p>&lt;strong class="example"&gt;Exemplary example 1ï¼š</strong></p>

<pre>
<strong>enterï¼š</strong>nums = [2,1,3,3]
<strong>Outputï¼š</strong>[2,3,1,3]
<strong>explainï¼š</strong>existå‰ä¸¤Secondary operationåï¼Œarr1 = [2] ï¼Œarr2 = [1] ã€‚
In the first place 3 Secondary operationmiddleï¼Œä¸¤ä¸ªArraymiddleå¤§äº 3 Number of elementséƒ½yesé›¶ï¼Œå¹¶andé•¿åº¦ç›¸ç­‰ï¼Œthereforeï¼ŒWill nums[3] Add arr1 ã€‚
In the first place 4 Secondary operationmiddleï¼Œä¸¤ä¸ªArraymiddleå¤§äº 3 Number of elementséƒ½yesé›¶ï¼Œbut arr2 Small lengthï¼Œthereforeï¼ŒWill nums[4] Add arr2 ã€‚
exist 4 Secondary operationåï¼Œarr1 = [2,3] ï¼Œarr2 = [1,3] ã€‚
thereforeï¼Œè¿æ¥å½¢æˆçš„Array result yes [2,3,1,3] ã€‚
</pre>

<p>&lt;strong class="example"&gt;Exemplary example 2ï¼š</strong></p>

<pre>
<strong>enterï¼š</strong>nums = [5,14,3,1,2]
<strong>Outputï¼š</strong>[5,3,1,2,14]
<strong>explainï¼š</strong>existå‰ä¸¤Secondary operationåï¼Œarr1 = [5] ï¼Œarr2 = [14] ã€‚
In the first place 3 Secondary operationmiddleï¼Œä¸¤ä¸ªArraymiddleå¤§äº 3 Number of elementséƒ½yesä¸€ï¼Œå¹¶andé•¿åº¦ç›¸ç­‰ï¼Œthereforeï¼ŒWill nums[3] Add arr1 ã€‚
In the first place 4 Secondary operationmiddleï¼Œarr1 middleå¤§äº 1 Number of elementså¤§äº arr2 middleçš„æ•°é‡ï¼ˆ2 &gt; 1ï¼‰ï¼Œthereforeï¼ŒWill nums[4] Add arr1 ã€‚
In the first place 5 Secondary operationmiddleï¼Œarr1 middleå¤§äº 2 Number of elementså¤§äº arr2 middleçš„æ•°é‡ï¼ˆ2 &gt; 1ï¼‰ï¼Œthereforeï¼ŒWill nums[5] Add arr1 ã€‚
exist 5 Secondary operationåï¼Œarr1 = [5,3,1,2] ï¼Œarr2 = [14] ã€‚
thereforeï¼Œè¿æ¥å½¢æˆçš„Array result yes [5,3,1,2,14] ã€‚
</pre>

<p>&lt;strong class="example"&gt;Exemplary example 3ï¼š</strong></p>

<pre>
<strong>enterï¼š</strong>nums = [3,3,3,3]
<strong>Outputï¼š</strong>[3,3,3,3]
<strong>explainï¼š</strong>exist 4 Secondary operationåï¼Œarr1 = [3,3] ï¼Œarr2 = [3,3] ã€‚
thereforeï¼Œè¿æ¥å½¢æˆçš„Array result yes [3,3,3,3] ã€‚
</pre>

<p>&nbsp;</p>

<p><strong>hintï¼š</strong></p>

<ul> 
 <li><code>3 &lt;= n &lt;= 10<sup>5</sup></code></li> 
 <li><code>1 &lt;= nums[i] &lt;= 10<sup>9</sup></code></li> 
</ul>

<div><div>Related Topics</div><div><li>Tree array</li><li>Thread tree</li><li>Array</li><li>simulation</li></div></div><br><div><li>ğŸ‘ 38</li><li>ğŸ‘ 0</li></div>
"""

# Thoughtï¼š

1. initializationï¼š
   é¦–å…ˆWill nums Arrayåè½¬ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä»æœ€åä¸€ä¸ªå…ƒç´ startå¤„ç†ã€‚è¿™ä¸€æ­¥existæœ€åˆä¸å­¦é•¿@Angro beatICPCI learnedï¼Œ`pop()` Compare `pop(0)` It is much fasterã€‚
   Willåè½¬åçš„ç¬¬ä¸€ä¸ªå…ƒç´ åˆ†é…ç»™ arr1 and temp1ï¼ŒThe second element is allocated to arr2 and temp2ã€‚

2. Iteration processing each elementï¼š
   use while Traversal nums Arrayçš„å‰©ä½™å…ƒç´ ã€‚
   For each elementï¼Œuse bisect.bisect_right exist arr1 and arr2 middleæ‰¾åˆ°Compareå½“å‰å…ƒç´ å°çš„å…ƒç´ çš„æ•°é‡ã€‚
   Re -uselen(arr1)andlen(arr2)Minus this quantityï¼Œå¾—åˆ°Compareå½“å‰å…ƒç´ å¤§çš„å…ƒç´ çš„æ•°é‡ã€‚
   ç„¶åè¿›è¡ŒCompareè¾ƒToã€‚ ä¸ºäº†useäºŒåˆ†æŸ¥æ‰¾ï¼Œthereforeæˆ‘ä»¬è¦ä¿è¯ arr1 and arr2 yesæœ‰åºçš„ï¼Œ Pythonmiddleuse `insort()` Toã€‚
   butåŒæ—¶æˆ‘ä»¬è¦ç»´æŒä¸€ä¸ªç­”æ¡ˆArrayï¼ŒthereforeappendToã€‚

3. Merge answer

# Codeï¼š

```python
import bisect
from typing import List

class Solution:
    def resultArray(self, nums: List[int]) -> List[int]:
        nums = nums[::-1]
        temp = nums.pop()
        arr1 = [temp]
        temp1 = [temp]
        temp = nums.pop()
        arr2 = [temp]
        temp2 = [temp]
        while nums:
            temp = nums.pop()
            # [28] [2]
            index1 = bisect.bisect_right(arr1, temp)
            index2 = bisect.bisect_right(arr2, temp)
            length_1 = len(arr1) - index1
            length_2 = len(arr2) - index2
            if length_1 > length_2:
                bisect.insort(arr1, temp)
                temp1.append(temp)
            elif length_1 < length_2:
                bisect.insort(arr2, temp)
                temp2.append(temp)
            else:
                if len(arr1) > len(arr2):
                    bisect.insort(arr2, temp)
                    temp2.append(temp)
                else:
                    bisect.insort(arr1, temp)
                    temp1.append(temp)

        return temp1 + temp2
```
